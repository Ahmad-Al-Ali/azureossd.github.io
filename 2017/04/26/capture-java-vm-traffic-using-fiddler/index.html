<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title> capture java vm traffic using fiddler		 | Azure OSS Developer Support</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="Customer’s using the Azure SDK for Java may need to capture network traffic for the REST API requests to troubleshoot issues. Below are the steps to configure Fiddler and Eclipse to capture the API re">
<meta property="og:type" content="article">
<meta property="og:title" content=" Capture Java VM Traffic using Fiddler		">
<meta property="og:url" content="http://azureossd.github.io/2017/04/26/capture-java-vm-traffic-using-fiddler/index.html">
<meta property="og:site_name" content="Azure OSS Developer Support">
<meta property="og:description" content="Customer’s using the Azure SDK for Java may need to capture network traffic for the REST API requests to troubleshoot issues. Below are the steps to configure Fiddler and Eclipse to capture the API re">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/fiddler-decode.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/fiddler-options.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/fiddler-export.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/fiddler-keystore.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/eclipse-1.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/eclipse-2.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/intellij-1.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/intellij-2.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/fiddler-sample1.png">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/fiddler-sample2.png">
<meta property="og:updated_time" content="2019-03-26T05:55:56.791Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" Capture Java VM Traffic using Fiddler		">
<meta name="twitter:description" content="Customer’s using the Azure SDK for Java may need to capture network traffic for the REST API requests to troubleshoot issues. Below are the steps to configure Fiddler and Eclipse to capture the API re">
<meta name="twitter:image" content="http://azureossd.github.io/wp-content/uploads/2017/04/fiddler-decode.png">
  
    <link rel="alternate" href="/atom.xml" title="Azure OSS Developer Support" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/archives"] = "Archives"; 

</script>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="Azure OSS Developer Support" rel="home"> Azure OSS Developer Support </a>
            
          </h1>

          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/archives">Archives</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt src>
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "css/images/pose.jpg,https://source.unsplash.com/collection/954550/1920x1080".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-capture-java-vm-traffic-using-fiddler" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
       Capture Java VM Traffic using Fiddler		
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/04/26/capture-java-vm-traffic-using-fiddler/" class="article-date">
	  <time datetime="2017-04-26T19:25:21.000Z" itemprop="datePublished">April 26, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Customer’s using the Azure SDK for Java may need to capture network traffic for the REST API requests to troubleshoot issues. Below are the steps to configure Fiddler and Eclipse to capture the API requests. Telerik provides documentation for configuring your Java app to send traffic to Fiddler available <a href="http://docs.telerik.com/fiddler/configure-fiddler/tasks/configurejavaapp" target="_blank" rel="noopener">here</a>, however, additional steps will be need to capture secure traffic which is provided in this article. Other development tools can be used but this article covers Eclipse and IntelliJ IDEA. To use other tools, use the VM arguments described in either the Eclipse or IntelliJ IDEA sections.  </p>
<h3 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h3><p>  Networking Tracing-   Fiddler - <a href="https://www.telerik.com/download/fiddler" target="_blank" rel="noopener">https://www.telerik.com/download/fiddler</a>  </p>
<h3 id="Development-Tools"><a href="#Development-Tools" class="headerlink" title="Development Tools"></a>Development Tools</h3><p>  Eclipse - <a href="https://www.eclipse.org/downloads/" target="_blank" rel="noopener">https://www.eclipse.org/downloads/</a> or IntelliJ IDEA Community - <a href="https://www.jetbrains.com/idea/download/" target="_blank" rel="noopener">https://www.jetbrains.com/idea/download/</a>  </p>
<h3 id="Configuring-Fiddler"><a href="#Configuring-Fiddler" class="headerlink" title="Configuring Fiddler"></a>Configuring Fiddler</h3><p>  By default, Fiddler is not configured to decode any encoded traffic. To enable this feature you can select an encoded request/response and select the “click to decode” message.   <strong>TIP: Stop capturing of all traffic from Fiddler by pressing f12. All traffic sent from the Java App will still be captured in Fiddler when traffic is sent using the proxy settings. This makes it easier to troubleshoot the requests coming from the app.</strong>   <a href="/wp-content/uploads/2017/04/fiddler-decode.png"><img src="/wp-content/uploads/2017/04/fiddler-decode.png" alt="fiddler-decode"></a> You will also need to perform the following.   1) Select the Tools menu. 2) Choose Telerik Fiddler Options. 3) Select the HTTPS tab and check the following</p>
<ol>
<li>Capture HTTPS CONNECTs</li>
<li>Decrypt HTTPS Traffic</li>
</ol>
<p><a href="/wp-content/uploads/2017/04/fiddler-options.png"><img src="/wp-content/uploads/2017/04/fiddler-options.png" alt="fiddler-options"></a>   4) We’ll need to export the certificate used by Fiddler to use with Eclipse later. Perform the following.</p>
<ol>
<li>Select the “Actions” button.</li>
<li>Choose “Export Root Certificate to Desktop. Press the OK button.</li>
</ol>
<p><a href="/wp-content/uploads/2017/04/fiddler-export.png"><img src="/wp-content/uploads/2017/04/fiddler-export.png" alt="fiddler-export"></a>   5) To create a keystore with this certificate, perform the following.</p>
<ol>
<li>Open the command line as administrator.</li>
<li>echo %JAVA_HOME%</li>
<li>Change directories to the variable provided (I.e. C:\Program Files\Java\jdk1.8.0_121 in my case).</li>
<li>Cd bin</li>
<li>keytool.exe -import -file C:\Users\<username>\Desktop\FiddlerRoot.cer -keystore FiddlerKeystore -alias Fiddler</username></li>
<li>Enter a password and confirm the password.</li>
<li>Trust this certificate? [no]: y</li>
<li>Example screenshot below.</li>
</ol>
<p><a href="/wp-content/uploads/2017/04/fiddler-keystore.png"><img src="/wp-content/uploads/2017/04/fiddler-keystore.png" alt="fiddler-keystore"></a>  </p>
<h3 id="Configure-Eclipse"><a href="#Configure-Eclipse" class="headerlink" title="Configure Eclipse"></a>Configure Eclipse</h3><p>  1) In Eclipse, select the Run menu and choose “Run Configurations”. <a href="/wp-content/uploads/2017/04/eclipse-1.png"><img src="/wp-content/uploads/2017/04/eclipse-1.png" alt="eclipse-1"></a> 2) Select your Project and choose the “Arguments” tab. 3) Enter the following in the VM arguments section.  </p>
<pre><code>-DproxySet=true 
-DproxyHost=127.0.0.1 
-DproxyPort=8888
-Djavax.net.ssl.trustStore=&quot;path\\to\\java_home\\bin\\FiddlerKeyStore&quot; 
-Djavax.net.ssl.trustStorePassword=&quot;password\_used\_during\_keystore\_creation&quot;
</code></pre><p>  4) Press Apply and Run. <a href="/wp-content/uploads/2017/04/eclipse-2.png"><img src="/wp-content/uploads/2017/04/eclipse-2.png" alt="eclipse-2"></a>  </p>
<h3 id="Configuring-IntelliJ-IDEA"><a href="#Configuring-IntelliJ-IDEA" class="headerlink" title="Configuring IntelliJ IDEA"></a>Configuring IntelliJ IDEA</h3><ol>
<li>Select the Run menu and choose “Edit Configurations” </li>
</ol>
<p><img src="/wp-content/uploads/2017/04/intellij-1.png" alt="intellij-1"></p>
<p><br></p>
<ol start="2">
<li>Select your Java Application on the left and enter the following “VM Options”.  </li>
</ol>
<p>-DproxySet=true<br>-DproxyHost=127.0.0.1<br>-DproxyPort=8888<br>-Djavax.net.ssl.trustStore=”path\to\java_home\bin\FiddlerKeyStore”<br>-Djavax.net.ssl.trustStorePassword=”password_used_during_keystore_creation”</p>
<ol start="3">
<li>Press OK, Apply, and Run the App. <a href="/wp-content/uploads/2017/04/intellij-2.png"><img src="/wp-content/uploads/2017/04/intellij-2.png" alt="intellij-2"></a></li>
</ol>
<h3 id="Fiddler-Capture-Examples"><a href="#Fiddler-Capture-Examples" class="headerlink" title="Fiddler Capture Examples"></a>Fiddler Capture Examples</h3><p>  1) HTTP 401 response showing the JSON output for the authentication request from the Azure SDK for Java. <a href="/wp-content/uploads/2017/04/fiddler-sample1.png"><img src="/wp-content/uploads/2017/04/fiddler-sample1.png" alt="fiddler-sample1"></a>   2) HTTP 200 with JSON response for a REST API to the Azure Resource Management Service from the Azure SDK for Java <a href="/wp-content/uploads/2017/04/fiddler-sample2.png"><img src="/wp-content/uploads/2017/04/fiddler-sample2.png" alt="fiddler-sample2"></a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Azure-App-Service-Web-App/">Azure App Service Web App</a>, <a class="article-category-link" href="/categories/Azure-App-Service-Web-App/Java/">Java</a>

      
      
            
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/04/28/wordpress-migration-easy-as-a-b-c-1-2-3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
           WordPress Migration: Easy as A-B-C, 1-2-3		
        
      </div>
    </a>
  
  
    <a href="/2017/04/20/an-example-of-setting-wordpress-email-with-office-365-smtp/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"> An Example of Setting WordPress Email with Office 365 SMTP		</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article" style="overflow-y: scroll; max-width: 28%;">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Prerequisites"><span class="nav-number">1.</span> <span class="nav-text">Prerequisites</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Development-Tools"><span class="nav-number">2.</span> <span class="nav-text">Development Tools</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-Fiddler"><span class="nav-number">3.</span> <span class="nav-text">Configuring Fiddler</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configure-Eclipse"><span class="nav-number">4.</span> <span class="nav-text">Configure Eclipse</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Configuring-IntelliJ-IDEA"><span class="nav-number">5.</span> <span class="nav-text">Configuring IntelliJ IDEA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fiddler-Capture-Examples"><span class="nav-number">6.</span> <span class="nav-text">Fiddler Capture Examples</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2019 Azure OSS Developer Support All Rights Reserved.
          
      </div>
      <div class="site-credit">
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>








  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
