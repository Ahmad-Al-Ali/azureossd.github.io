<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title> use custom context for azure tomcat application		 | Azure OSS Developer Support</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="Javajava configurationtomcatcustom deployGitazure webappscustom context">
  
  
  
  
  <meta name="description" content="Sometimes, you don’t want to deploy your application in the default deployment folder for your Java webapp on Azure env. One of the best examples could be while using the Git deployment. In that case">
<meta name="keywords" content="Java,java configuration,tomcat,custom deploy,Git,azure webapps,custom context">
<meta property="og:type" content="article">
<meta property="og:title" content=" Use custom context for Azure Tomcat application		">
<meta property="og:url" content="http://azureossd.github.io/use-custom-context-for-azure-tomcat-application/index.html">
<meta property="og:site_name" content="Azure OSS Developer Support">
<meta property="og:description" content="Sometimes, you don’t want to deploy your application in the default deployment folder for your Java webapp on Azure env. One of the best examples could be while using the Git deployment. In that case">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2019/03/3162.Settings.jpg">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2019/03/3343.Kudu.jpg">
<meta property="og:updated_time" content="2019-03-26T20:31:01.671Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" Use custom context for Azure Tomcat application		">
<meta name="twitter:description" content="Sometimes, you don’t want to deploy your application in the default deployment folder for your Java webapp on Azure env. One of the best examples could be while using the Git deployment. In that case">
<meta name="twitter:image" content="http://azureossd.github.io/wp-content/uploads/2019/03/3162.Settings.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Azure OSS Developer Support" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/archives"] = "Archives"; 

</script>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="Azure OSS Developer Support" rel="home"> Azure OSS Developer Support </a>
            
          </h1>

          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/archives">Archives</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt src>
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "css/images/pose.jpg,https://source.unsplash.com/collection/954550/1920x1080".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-use-custom-context-for-azure-tomcat-application" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
       Use custom context for Azure Tomcat application		
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/use-custom-context-for-azure-tomcat-application/" class="article-date">
	  <time datetime="2015-12-11T20:37:00.000Z" itemprop="datePublished">December 11, 2015</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Sometimes, you don’t want to deploy your application in the default deployment folder for your Java webapp on Azure env. One of the best examples could be while using the Git deployment. In that case your deployment gets copied to wwwroot folder and Tomcat checks the deployments in the webapps folder, so you might want to change the default folder.</p>
<p>There are two ways of deploying your Java web app in azure</p>
<p>1)     Create empty web app and turn on Java in application settings</p>
<p>2)     Install tomcat from marketplace, which comes wrapped in a new web app</p>
<p>For the web app created using first scenario,</p>
<ul>
<li><p>It would use default tomcat present in D:\Program Files\ folder</p>
</li>
<li><p>It would consider D:\home\site\wwwroot as application root folder</p>
</li>
<li><p>This approach is generally preferred by users who don’t want to configure much of tomcat.</p>
</li>
</ul>
<p>For the web app created using second scenario,</p>
<ul>
<li><p>It would come with another instance of tomcat installed at D:\home\site\wwwroot\bin folder (which doesn’t exist in previous approach)</p>
</li>
<li><p>It would consider D:\home\site\wwwroot\bin\apache-tomcat-8.0.27\webapps as application root folder</p>
</li>
<li><p>This approach is generally preferred by users who want to have custom configuration of tomcat</p>
</li>
</ul>
<p>Git always pushes content to D:\home\site\wwwroot\ folder, while the tomcat is looking for the same app in D:\home\site\wwwroot\bin\apache-tomcat-8.0.27\webapps</p>
<p>This is how you can achieve it -</p>
<p>1. Navigate to D:\home\site\wwwroot\bin\apache-tomcat-8.0.27\conf folder or to your custom tomcat folder using the <a href="http://blogs.msdn.com/b/benjaminperkins/archive/2014/03/24/using-kudu-with-windows-azure-web-sites.aspx" title="Kudu console" target="_blank" rel="noopener">Kudu</a> console</p>
<p>2. Open server.xml file and add below line of code within</p>
<pre><code>&lt;Host&gt;

       &lt;Context path=&quot;&quot; docBase=&quot;_\[specify the absolute path or relative to tomcat folder\]_&quot; reloadable=&quot;true&quot;&gt;

       &lt;/Context&gt;

&lt;/Host&gt;
</code></pre><p><a href="/wp-content/uploads/2019/03/3162.Settings.jpg"><img src="/wp-content/uploads/2019/03/3162.Settings.jpg" alt></a></p>
<p>After this you can deploy your application in the folder specified above and it’ll be used by tomcat container to deploy the application.</p>
<p>Example index.jsp in the d:\home\site\wwwroot folder -</p>
<p><a href="/wp-content/uploads/2019/03/3343.Kudu.jpg"><img src="/wp-content/uploads/2019/03/3343.Kudu.jpg" alt></a></p>
<p><strong>Note</strong>: On Azure webapps env, you can specify these values only when you are using <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-java-custom-upload/" title="Custom Tomcat" target="_blank" rel="noopener">custom tomcat version</a> or using the <a href="https://azure.microsoft.com/en-us/marketplace/partners/microsoft/apachetomcat7/" title="Marketplace Tomcat" target="_blank" rel="noopener">marketplace tomcat version</a> as they expose tomcat configurations.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/azure-webapps/">azure webapps</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/custom-context/">custom context</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/custom-deploy/">custom deploy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-configuration/">java configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tomcat/">tomcat</a></li></ul>

      
            
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/configure-log4j-along-with-log-rotation-on-tomcat-web-app-in-azure-app-service/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
           Configure log4j along with log rotation on Tomcat Web App in Azure App Service		
        
      </div>
    </a>
  
  
    <a href="/php-imagemagick-on-azure-web-apps/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"> PHP ImageMagick on Azure Web Apps		</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article" style="overflow-y: scroll; max-width: 28%;">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav">None</ol>
    
    </div>
  </aside>
</section>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2019 Azure OSS Developer Support All Rights Reserved.
          
      </div>
      <div class="site-credit">
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>








  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
