<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title> setting up session affinity/sticky sessions using azure java sdk for cloud service		 | Azure OSS Developer Support</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="JavaazureAffinityARRSDKSessionSSL OffloadingSticky">
  
  
  
  
  <meta name="description" content="To setup the Session Affinity for your cloud service using Azure Java SDK, follow these steps - 1. Open eclipse and browse to your project. 2. Traverse to the WorkerRole in your project and click on P">
<meta name="keywords" content="Java,azure,Affinity,ARR,SDK,Session,SSL Offloading,Sticky">
<meta property="og:type" content="article">
<meta property="og:title" content=" Setting up Session Affinity&#x2F;Sticky Sessions using Azure Java SDK for cloud service		">
<meta property="og:url" content="http://azureossd.github.io/setting-up-session-affinitysticky-sessions-using-azure-java-sdk-for-cloud-service/index.html">
<meta property="og:site_name" content="Azure OSS Developer Support">
<meta property="og:description" content="To setup the Session Affinity for your cloud service using Azure Java SDK, follow these steps - 1. Open eclipse and browse to your project. 2. Traverse to the WorkerRole in your project and click on P">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2019/03/7444.WorkerRole%20Property.jpg">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2019/03/3441.Enable%20Session%20Affinity.jpg">
<meta property="og:image" content="http://azureossd.github.io/wp-content/uploads/2019/03/3718.ARR%20Endpoint.JPG">
<meta property="og:updated_time" content="2019-03-26T19:43:21.637Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" Setting up Session Affinity&#x2F;Sticky Sessions using Azure Java SDK for cloud service		">
<meta name="twitter:description" content="To setup the Session Affinity for your cloud service using Azure Java SDK, follow these steps - 1. Open eclipse and browse to your project. 2. Traverse to the WorkerRole in your project and click on P">
<meta name="twitter:image" content="http://azureossd.github.io/wp-content/uploads/2019/03/7444.WorkerRole%20Property.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Azure OSS Developer Support" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/archives"] = "Archives"; 

</script>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="Azure OSS Developer Support" rel="home"> Azure OSS Developer Support </a>
            
          </h1>

          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/archives">Archives</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt src>
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "css/images/pose.jpg,https://source.unsplash.com/collection/954550/1920x1080".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-setting-up-session-affinitysticky-sessions-using-azure-java-sdk-for-cloud-service" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
       Setting up Session Affinity/Sticky Sessions using Azure Java SDK for cloud service		
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/setting-up-session-affinitysticky-sessions-using-azure-java-sdk-for-cloud-service/" class="article-date">
	  <time datetime="2015-05-12T19:26:00.000Z" itemprop="datePublished">May 12, 2015</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>To setup the Session Affinity for your cloud service using Azure Java SDK, follow these steps -</p>
<p>1. Open eclipse and browse to your project.</p>
<p>2. Traverse to the WorkerRole in your project and click on Properties.</p>
<p><a href="/wp-content/uploads/2019/03/7444.WorkerRole%20Property.jpg"><img src="/wp-content/uploads/2019/03/7444.WorkerRole%20Property.jpg" alt></a></p>
<p>3. Check the enable http session affinity check box.</p>
<p><a href="/wp-content/uploads/2019/03/3441.Enable%20Session%20Affinity.jpg"><img src="/wp-content/uploads/2019/03/3441.Enable%20Session%20Affinity.jpg" alt></a></p>
<p>4. Open ServiceDefinition.csdef file for your project in Text Editor and you should see text as -</p>
<p><a href="/wp-content/uploads/2019/03/3718.ARR%20Endpoint.JPG"><img src="/wp-content/uploads/2019/03/3718.ARR%20Endpoint.JPG" alt></a></p>
<p>5. Install Web Platform Installer on your eclipse machine.</p>
<p>6. Copy following WebpiCmd files to your Azure .Net SDK plugin’s folder (Default directory is: C:\Program Files\Microsoft SDKs\Azure\.NET SDK\v2.5\bin\plugins\WebDeploy). It is possible that you have multiple versions of SDK present in your system, make sure you replace it in latest version. WebpiCmd files are located in the WebPI install directory (default directory is ‘C:\Program Files\Microsoft\Web Platform Installer’).</p>
<ul>
<li>WebpiCmd-x64.exe</li>
<li>WebpiCmd-x64.exe.config</li>
<li>Microsoft.Web.PlatformInstaller.dll</li>
<li>Microsoft.Web.PlatformInstaller.UI.dll </li>
</ul>
<p>7. Browse to your eclipse cloud service deployment project from windows explorer. You should see a folder “ROLE/approot/.arrconfig”. ROLE can be WorkerRole1 or WebRole1 or a custom name you have given to your web/worker role.</p>
<p>8. In the .arrconfig folder, edit ConfigureARR.bat file and comment/delete the original line and add the new line for installing ARR 3.0: </p>
<ul>
<li>Original Line: %ROLEROOT%\plugins\WebDeploy\WebpiCmd.exe/Install /accepteula /Products:ARR</li>
<li>New: %ROLEROOT%\plugins\WebDeploy\WebpiCmd-x64.exe/Install /accepteula /Products:ARRv3_0</li>
</ul>
<p>9. Save the ConfigureARR.bat file and deploy the package with overwrite selected and you should see that ARR 3.0 is now successfully installed and configured.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ARR/">ARR</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Affinity/">Affinity</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SDK/">SDK</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSL-Offloading/">SSL Offloading</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Session/">Session</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sticky/">Sticky</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/azure/">azure</a></li></ul>

      
            
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/generating-shared-access-signaturesas-on-azure-blob-using-php/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
           Generating Shared access signature(SAS) on Azure Blob using PHP		
        
      </div>
    </a>
  
  
    <a href="/running-java8-on-azure-web-apps/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"> Running Java8 on Azure web apps		</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article" style="overflow-y: scroll; max-width: 28%;">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav">None</ol>
    
    </div>
  </aside>
</section>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2019 Azure OSS Developer Support All Rights Reserved.
          
      </div>
      <div class="site-credit">
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>








  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
