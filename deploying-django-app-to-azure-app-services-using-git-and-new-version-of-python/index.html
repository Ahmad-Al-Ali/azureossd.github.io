<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title> deploying django app to azure app services using git and new version of python		 | Azure OSS Developer Support</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="pythonGitDjango">
  
  
  
  
  <meta name="description" content="Django is a high-level Python Web framework that encourages rapid development and clean, pragmatic design. Built by experienced developers, it takes care of much of the hassle of Web development, so y">
<meta name="keywords" content="python,Git,Django">
<meta property="og:type" content="article">
<meta property="og:title" content=" Deploying Django App to Azure App Services using Git and new version of Python		">
<meta property="og:url" content="http://azureossd.github.io/deploying-django-app-to-azure-app-services-using-git-and-new-version-of-python/index.html">
<meta property="og:site_name" content="Azure OSS Developer Support">
<meta property="og:description" content="Django is a high-level Python Web framework that encourages rapid development and clean, pragmatic design. Built by experienced developers, it takes care of much of the hassle of Web development, so y">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://techiecouple.azurewebsites.net/content/images/2016/08/djangosample.PNG">
<meta property="og:image" content="http://techiecouple.azurewebsites.net/content/images/2016/08/djangopublish.PNG">
<meta property="og:updated_time" content="2019-03-26T21:38:33.572Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" Deploying Django App to Azure App Services using Git and new version of Python		">
<meta name="twitter:description" content="Django is a high-level Python Web framework that encourages rapid development and clean, pragmatic design. Built by experienced developers, it takes care of much of the hassle of Web development, so y">
<meta name="twitter:image" content="http://techiecouple.azurewebsites.net/content/images/2016/08/djangosample.PNG">
  
    <link rel="alternate" href="/atom.xml" title="Azure OSS Developer Support" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-0123456789ABCDEFFFFFF",
          enable_page_level_ads: true
      });
  </script>
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/archives"] = "Archives"; 

</script>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="Azure OSS Developer Support" rel="home"> Azure OSS Developer Support </a>
            
          </h1>

          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class href="/archives">Archives</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt src>
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "css/images/pose.jpg,https://source.unsplash.com/collection/954550/1920x1080".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-deploying-django-app-to-azure-app-services-using-git-and-new-version-of-python" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost">
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
       Deploying Django App to Azure App Services using Git and new version of Python		
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/deploying-django-app-to-azure-app-services-using-git-and-new-version-of-python/" class="article-date">
	  <time datetime="2016-08-25T17:38:27.000Z" itemprop="datePublished">August 25, 2016</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Django</strong> is a high-level Python Web framework that encourages rapid development and clean, pragmatic design. Built by experienced developers, it takes care of much of the hassle of Web development, so you can focus on writing your app without needing to reinvent the wheel. It’s free and open source.</p>
<p>Below are list of steps which we would follow in this blog to create and deploy Django app to Azure App Services</p>
<ul>
<li>Create Sample Project</li>
<li>Create Azure WebApp and Use Site Extension to Upgrade Python</li>
<li>Create Deployment script</li>
<li>Change Deployment script</li>
<li>Copy necessary files</li>
<li>Publish App</li>
</ul>
<p>You can find a Sample Python Django project with above operations @ <a href="https://github.com/prashanthmadi/azure-django-customdeployment" target="_blank" rel="noopener">GitHub Link</a></p>
<p><strong>Create Sample Project</strong></p>
<p>Follow <a href="https://www.djangoproject.com/start/" target="_blank" rel="noopener">https://www.djangoproject.com/start/</a> to get started with Django</p>
<ul>
<li>Install Django and</li>
<li>Create your first project</li>
</ul>
<p>(or)</p>
<p>If you have <a href="https://www.jetbrains.com/pycharm/" target="_blank" rel="noopener">PyCharm</a>, Follow details at below link to create a sample app\<br><a href="https://www.jetbrains.com/help/pycharm/2016.1/creating-django-project.html" target="_blank" rel="noopener">https://www.jetbrains.com/help/pycharm/2016.1/creating-django-project.html</a></p>
<p><img src="http://techiecouple.azurewebsites.net/content/images/2016/08/djangosample.PNG" alt="Sample Django Project"></p>
<p><strong>Create Azure WebApp and Use Site Extension to Upgrade Python</strong></p>
<p>Navigate to <a href="https://portal.azure.com/" target="_blank" rel="noopener">Azure portal</a></p>
<ul>
<li>Create a new web app</li>
<li>Setup Continuous Deployment</li>
</ul>
<p>Follow below blog on how to upgrade python using site extension\<br><a href="https://blogs.msdn.microsoft.com/pythonengineering/2016/08/04/upgrading-python-on-azure-app-service/" target="_blank" rel="noopener">https://blogs.msdn.microsoft.com/pythonengineering/2016/08/04/upgrading-python-on-azure-app-service/</a></p>
<p>As Steve has mentioned in his blog at above link, add site extension to your web app.\<br>For this blog I’m choosing <code>Python 2.7.12 x64</code>, It would install new version of python @ D:\home\Python27</p>
<p><strong>Create Deployment script</strong></p>
<p>I have explained more on how to utilize deployment script and what it does @<a href="http://techiecouple.azurewebsites.net/azure-custom-deployment/" target="_blank" rel="noopener">link</a></p>
<p>Install Azure Cli using below command</p>
<pre><code>npm install azure-cli -g
</code></pre><p>Use Below command to create deployment script.</p>
<pre><code>azure site deploymentscript --python
</code></pre><p>Above step would create below two files</p>
<ul>
<li>.deployment</li>
<li>deploy.cmd</li>
</ul>
<h5 id="Change-Deployment-script-Content"><a href="#Change-Deployment-script-Content" class="headerlink" title="Change Deployment script Content"></a>Change Deployment script Content</h5><p>Replace content of deploy.cmd file with content at <a href="https://github.com/prashanthmadi/azure-django-customdeployment/blob/master/deploy.cmd" target="_blank" rel="noopener">Link</a></p>
<p>I have changed the code to utilize new python executable available @ D:\home\Python27</p>
<h5 id="Copy-necessary-files"><a href="#Copy-necessary-files" class="headerlink" title="Copy necessary files"></a>Copy necessary files</h5><p>Create below two new files at root folder and copy content from <a href="https://github.com/prashanthmadi/azure-django-customdeployment" target="_blank" rel="noopener">link</a></p>
<ul>
<li><code>web.config</code> - used to configure IIS</li>
<li><code>ptvs_virtualenv_proxy.py</code> - Helper python file to activate virtual environment</li>
</ul>
<p>Create requirements.txt file and add app required modules in it. you can find a sample @ <a href="https://github.com/prashanthmadi/azure-django-customdeployment" target="_blank" rel="noopener">link</a></p>
<h5 id="Publish-App"><a href="#Publish-App" class="headerlink" title="Publish App"></a>Publish App</h5><p>Navigate to your root folder and commit your changes to <code>WEB_APP_GIT_URL</code></p>
<pre><code>git init  
git add .  
git commit -m &quot;initial commit&quot;  
git remote add sampledjangoapp WEB_APP_GIT_URL  
git push sampledjangoapp master  
</code></pre><p>Here is my App on Azure After publish</p>
<p><img src="http://techiecouple.azurewebsites.net/content/images/2016/08/djangopublish.PNG" alt="Django Sample App Azure"></p>
<p>You can find a Sample Python Django project with above operations @ <a href="https://github.com/prashanthmadi/azure-django-customdeployment" target="_blank" rel="noopener">GitHub Link</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/python/">python</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/">Django</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

      
            
      
        
	<div id="comment">
		<!-- 来必力City版安装代码 -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
		</div>
		<!-- City版安装代码已完成 -->
	</div>


      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/how-to-identifyreview-errors-on-php-applications-in-azure-web-apps-using-log-stream-service/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
           How to identify/review PHP errors on Azure Web Apps using Log Stream service		
        
      </div>
    </a>
  
  
    <a href="/meteor-1-4-on-azure-app-services/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"> Meteor 1.4 App on Azure App Services		</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article" style="overflow-y: scroll; max-width: 28%;">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav"><li class="nav-item nav-level-5"><a class="nav-link" href="#Change-Deployment-script-Content"><span class="nav-number">1.</span> <span class="nav-text">Change Deployment script Content</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Copy-necessary-files"><span class="nav-number">2.</span> <span class="nav-text">Copy necessary files</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Publish-App"><span class="nav-number">3.</span> <span class="nav-text">Publish App</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2019 Azure OSS Developer Support All Rights Reserved.
          
      </div>
      <div class="site-credit">
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>








  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
